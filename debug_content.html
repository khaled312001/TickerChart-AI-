<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Content Debug - TickerChart AI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            direction: rtl;
        }
        .debug-panel {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 15px;
            margin: 10px 0;
        }
        .debug-success {
            background: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }
        .debug-error {
            background: #f8d7da;
            border-color: #f5c6cb;
            color: #721c24;
        }
        .debug-warning {
            background: #fff3cd;
            border-color: #ffeaa7;
            color: #856404;
        }
        .debug-info {
            background: #d1ecf1;
            border-color: #bee5eb;
            color: #0c5460;
        }
        .test-button {
            margin: 5px;
        }
    </style>
</head>
<body>
    <div class="container mt-4">
        <h1 class="text-center mb-4">
            <i class="fas fa-bug text-warning me-2"></i>
            Content Debug - TickerChart AI
        </h1>
        
        <div class="debug-panel debug-info">
            <h4><i class="fas fa-info-circle me-2"></i>Diagnostic Information</h4>
            <div id="diagnosticInfo">
                <p>Loading diagnostic information...</p>
            </div>
        </div>
        
        <div class="debug-panel debug-warning">
            <h4><i class="fas fa-tools me-2"></i>Manual Tests</h4>
            <div class="row">
                <div class="col-md-6">
                    <button class="btn btn-primary test-button" onclick="testMarketData()">
                        <i class="fas fa-chart-bar me-2"></i>Test Market Data
                    </button>
                    <button class="btn btn-success test-button" onclick="testAITools()">
                        <i class="fas fa-robot me-2"></i>Test AI Tools
                    </button>
                </div>
                <div class="col-md-6">
                    <button class="btn btn-info test-button" onclick="testAnalysis()">
                        <i class="fas fa-analytics me-2"></i>Test Analysis
                    </button>
                    <button class="btn btn-warning test-button" onclick="testAbout()">
                        <i class="fas fa-user-tie me-2"></i>Test About
                    </button>
                </div>
            </div>
        </div>
        
        <div class="debug-panel debug-success">
            <h4><i class="fas fa-check-circle me-2"></i>Test Results</h4>
            <div id="testResults">
                <p>Test results will appear here...</p>
            </div>
        </div>
        
        <div class="debug-panel debug-error">
            <h4><i class="fas fa-exclamation-triangle me-2"></i>Error Log</h4>
            <div id="errorLog">
                <p>Error log will appear here...</p>
            </div>
        </div>
        
        <div class="text-center mt-4">
            <a href="index.php" class="btn btn-primary me-2">
                <i class="fas fa-arrow-left me-2"></i>
                العودة إلى الصفحة الرئيسية
            </a>
            <a href="test_content.html" class="btn btn-success me-2">
                <i class="fas fa-eye me-2"></i>
                عرض محتوى الاختبار
            </a>
            <button class="btn btn-warning" onclick="refreshDiagnostics()">
                <i class="fas fa-sync-alt me-2"></i>
                تحديث التشخيص
            </button>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Diagnostic functions
        function updateDiagnosticInfo() {
            const info = document.getElementById('diagnosticInfo');
            const diagnosticData = {
                'User Agent': navigator.userAgent,
                'Page URL': window.location.href,
                'Document Ready State': document.readyState,
                'Window Size': `${window.innerWidth}x${window.innerHeight}`,
                'Screen Size': `${screen.width}x${screen.height}`,
                'Language': navigator.language,
                'Cookies Enabled': navigator.cookieEnabled,
                'Online Status': navigator.onLine,
                'Timestamp': new Date().toLocaleString('ar-SA')
            };
            
            let html = '';
            for (const [key, value] of Object.entries(diagnosticData)) {
                html += `<p><strong>${key}:</strong> ${value}</p>`;
            }
            info.innerHTML = html;
        }
        
        function testMarketData() {
            const results = document.getElementById('testResults');
            results.innerHTML = '<p><i class="fas fa-clock me-2"></i>Testing market data functionality...</p>';
            
            // Simulate market data test
            setTimeout(() => {
                const testData = {
                    symbol: '1180.SR',
                    name: 'البنك الأهلي السعودي',
                    price: 45.20,
                    change: 0.85,
                    change_percent: 1.92
                };
                
                results.innerHTML = `
                    <div class="alert alert-success">
                        <h6><i class="fas fa-check me-2"></i>Market Data Test Passed</h6>
                        <p>Sample data loaded successfully:</p>
                        <ul>
                            <li>Symbol: ${testData.symbol}</li>
                            <li>Name: ${testData.name}</li>
                            <li>Price: ${testData.price}</li>
                            <li>Change: ${testData.change} (${testData.change_percent}%)</li>
                        </ul>
                    </div>
                `;
            }, 1000);
        }
        
        function testAITools() {
            const results = document.getElementById('testResults');
            results.innerHTML = '<p><i class="fas fa-clock me-2"></i>Testing AI tools functionality...</p>';
            
            setTimeout(() => {
                results.innerHTML = `
                    <div class="alert alert-success">
                        <h6><i class="fas fa-check me-2"></i>AI Tools Test Passed</h6>
                        <p>AI tools section is accessible and functional.</p>
                        <ul>
                            <li>تحليل الاتجاهات ✓</li>
                            <li>التنبؤ بالأسعار ✓</li>
                            <li>إدارة المخاطر ✓</li>
                        </ul>
                    </div>
                `;
            }, 1000);
        }
        
        function testAnalysis() {
            const results = document.getElementById('testResults');
            results.innerHTML = '<p><i class="fas fa-clock me-2"></i>Testing analysis functionality...</p>';
            
            setTimeout(() => {
                results.innerHTML = `
                    <div class="alert alert-success">
                        <h6><i class="fas fa-check me-2"></i>Analysis Test Passed</h6>
                        <p>Analysis section is accessible and functional.</p>
                        <ul>
                            <li>مؤشر السوق السعودي (TASI): 10,885.58 ✓</li>
                            <li>حجم التداول: 216,532,966 ✓</li>
                            <li>قيمة التداول: 3,869,385,110 ✓</li>
                        </ul>
                    </div>
                `;
            }, 1000);
        }
        
        function testAbout() {
            const results = document.getElementById('testResults');
            results.innerHTML = '<p><i class="fas fa-clock me-2"></i>Testing about section...</p>';
            
            setTimeout(() => {
                results.innerHTML = `
                    <div class="alert alert-success">
                        <h6><i class="fas fa-check me-2"></i>About Section Test Passed</h6>
                        <p>About section is accessible and functional.</p>
                        <ul>
                            <li>المطور: المهندس خالد أحمد حجاج ✓</li>
                            <li>التقنيات: PHP, Python, AI/ML ✓</li>
                            <li>التاريخ: 2025 ✓</li>
                        </ul>
                    </div>
                `;
            }, 1000);
        }
        
        function refreshDiagnostics() {
            updateDiagnosticInfo();
            document.getElementById('testResults').innerHTML = '<p>Test results cleared. Run tests again.</p>';
            document.getElementById('errorLog').innerHTML = '<p>Error log cleared.</p>';
        }
        
        // Initialize diagnostics on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateDiagnosticInfo();
            
            // Log any JavaScript errors
            window.addEventListener('error', function(e) {
                const errorLog = document.getElementById('errorLog');
                errorLog.innerHTML += `
                    <div class="alert alert-danger">
                        <strong>Error:</strong> ${e.message}<br>
                        <strong>File:</strong> ${e.filename}<br>
                        <strong>Line:</strong> ${e.lineno}
                    </div>
                `;
            });
        });
    </script>
</body>
</html> 